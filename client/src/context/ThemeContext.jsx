import { createContext, useState, useEffect } from 'react';

export const ThemeContext = createContext();

// Traditional Japanese Color Palettes (Edo period-inspired)
const themeDefinitions = {
    sakura: {
        name: 'ðŸ’® Sakura',
        description: 'Cherry Blossom Spring',
        background: '#fff5f7',
        text: '#4a1e2c',
        cardBg: '#ffe4e8',
        cardBorder: '#ffb3c1',
        accent: '#ff6b9d',
        inputBg: '#ffffff',
        inputBorder: '#ffccd5',
        gradient: 'linear-gradient(135deg, #fff5f7 0%, #ffe4e8 100%)',
        glow: '0 0 10px rgba(255, 107, 157, 0.3)',
    },
    matcha: {
        name: 'ðŸƒ Matcha',
        description: 'Tea Ceremony Green',
        background: '#f4f7eb',
        text: '#2d4a1e',
        cardBg: '#e8f0d7',
        cardBorder: '#c5d9a4',
        accent: '#7fa832',
        inputBg: '#ffffff',
        inputBorder: '#d4e4ba',
        gradient: 'linear-gradient(135deg, #f4f7eb 0%, #e8f0d7 100%)',
        glow: '0 0 10px rgba(127, 168, 50, 0.3)',
    },
    indigo: {
        name: 'ðŸŒŠ Indigo',
        description: 'Traditional Dye Blue',
        background: '#e8f2f7',
        text: '#1a3a52',
        cardBg: '#d4e8f0',
        cardBorder: '#a8d0e6',
        accent: '#2e5c8a',
        inputBg: '#ffffff',
        inputBorder: '#c1dded',
        gradient: 'linear-gradient(135deg, #e8f2f7 0%, #d4e8f0 100%)',
        glow: '0 0 10px rgba(46, 92, 138, 0.3)',
    },
    momiji: {
        name: 'ðŸ¦Œ Momiji',
        description: 'Autumn Maple Leaves',
        background: '#fff5e6',
        text: '#5c2e1a',
        cardBg: '#ffe8cc',
        cardBorder: '#ffca8a',
        accent: '#d9543a',
        inputBg: '#ffffff',
        inputBorder: '#ffd9b3',
        gradient: 'linear-gradient(135deg, #fff5e6 0%, #ffe8cc 100%)',
        glow: '0 0 10px rgba(217, 84, 58, 0.3)',
    },
    sumi: {
        name: 'ðŸŒ‘ Sumi',
        description: 'Ink Wash Black',
        background: '#f5f5f5',
        text: '#1a1a1a',
        cardBg: '#e8e8e8',
        cardBorder: '#cccccc',
        accent: '#4a4a4a',
        inputBg: '#ffffff',
        inputBorder: '#d9d9d9',
        gradient: 'linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%)',
        glow: '0 0 5px rgba(0, 0, 0, 0.1)',
    },
    akihabara: {
        name: 'ðŸŒƒ Akihabara',
        description: 'Neon City Nights',
        background: '#0f0f1f',
        text: '#00fbff',
        cardBg: '#1a1a2e',
        cardBorder: '#ff00ff',
        accent: '#ff00ff',
        inputBg: '#0a0a14',
        inputBorder: '#333',
        gradient: 'linear-gradient(135deg, #0f0f1f 0%, #1a1a2e 100%)',
        glow: '0 0 15px rgba(0, 251, 255, 0.6), 0 0 30px rgba(255, 0, 255, 0.4)',
    },
    kyoto: {
        name: 'ðŸ® Kyoto',
        description: 'Sunset at the Pavilion',
        background: '#2d142c',
        text: '#feb139',
        cardBg: '#510a32',
        cardBorder: '#801336',
        accent: '#ee4540',
        inputBg: '#1a0a1a',
        inputBorder: '#4a1e2c',
        gradient: 'linear-gradient(135deg, #2d142c 0%, #510a32 100%)',
        glow: '0 0 15px rgba(254, 177, 57, 0.5)',
    },
    shinjuku: {
        name: 'ðŸŒ§ï¸ Shinjuku',
        description: 'Rainy Business District',
        background: '#101820',
        text: '#89ABE3',
        cardBg: '#1e272e',
        cardBorder: '#485460',
        accent: '#575fcf',
        inputBg: '#0c1218',
        inputBorder: '#2d3436',
        gradient: 'linear-gradient(135deg, #101820 0%, #1e272e 100%)',
        glow: '0 0 12px rgba(137, 171, 227, 0.4)',
    },
    coffee: {
        name: 'ðŸ•¯ï¸ Coffee Shop',
        description: 'Warm & Caffeinated',
        background: '#efebe9',
        text: '#4e342e',
        cardBg: '#d7ccc8',
        cardBorder: '#a1887f',
        accent: '#8d6e63',
        inputBg: '#ffffff',
        inputBorder: '#bcaaa4',
        gradient: 'linear-gradient(135deg, #efebe9 0%, #d7ccc8 100%)',
        glow: '0 0 10px rgba(141, 110, 99, 0.2)',
    },
    sky: {
        name: 'ðŸ•Šï¸ Sky & Clouds',
        description: 'Airy & Bright',
        background: '#e1f5fe',
        text: '#01579b',
        cardBg: '#ffffff',
        cardBorder: '#b3e5fc',
        accent: '#03a9f4',
        inputBg: '#ffffff',
        inputBorder: '#81d4fa',
        gradient: 'linear-gradient(180deg, #e1f5fe 0%, #ffffff 100%)',
        glow: '0 0 15px rgba(3, 169, 244, 0.2)',
    },
    starry: {
        name: 'ðŸŒ™ Starry Night',
        description: 'Midnight Dreams',
        background: '#050510',
        text: '#ffffff',
        cardBg: '#0d0d2b',
        cardBorder: '#1a1a4a',
        accent: '#ffcc00',
        inputBg: '#02020a',
        inputBorder: '#1a1a3a',
        gradient: 'linear-gradient(135deg, #050510 0%, #0d0d2b 100%)',
        glow: '0 0 10px rgba(255, 204, 0, 0.6), 0 0 20px rgba(255, 255, 255, 0.2)',
    },
    synthwave: {
        name: 'ðŸ“¼ Synthwave',
        description: 'Retro Future',
        background: '#2b0035',
        text: '#ff71ce',
        cardBg: '#1a0035',
        cardBorder: '#01cdfe',
        accent: '#05ffa1',
        inputBg: '#100020',
        inputBorder: '#330066',
        gradient: 'linear-gradient(135deg, #2b0035 0%, #1a0035 100%)',
        glow: '0 0 15px rgba(255, 113, 206, 0.5), 0 0 5px rgba(1, 205, 254, 0.3)',
    },
    cyberpunk: {
        name: 'ðŸ›¸ Cyber Forest',
        description: 'Digital Jungle',
        background: '#001a1a',
        text: '#00ff41',
        cardBg: '#002626',
        cardBorder: '#008f11',
        accent: '#00ff41',
        inputBg: '#001010',
        inputBorder: '#004040',
        gradient: 'linear-gradient(135deg, #001a1a 0%, #002626 100%)',
        glow: '0 0 12px rgba(0, 255, 65, 0.5)',
    },
    vaporwave: {
        name: 'ðŸ¦ Vaporwave',
        description: 'Pastel Dreams',
        background: '#ffc2e2',
        text: '#16d5d1',
        cardBg: '#ffffff',
        cardBorder: '#b762c1',
        accent: '#ff9dec',
        inputBg: '#ffffff',
        inputBorder: '#ffc2e2',
        gradient: 'linear-gradient(135deg, #ffc2e2 0%, #ffffff 100%)',
        glow: '0 0 10px rgba(22, 213, 209, 0.3)',
    },
    onepiece: {
        name: 'ðŸ‘’ One Piece',
        description: 'The Grand Line Adventure',
        background: '#041e42',
        text: '#ffca28',
        cardBg: '#0d47a1',
        cardBorder: '#ff5252',
        accent: '#ff5252',
        inputBg: '#002171',
        inputBorder: '#0d47a1',
        gradient: 'linear-gradient(135deg, #041e42 0%, #0d47a1 100%)',
        glow: '0 0 15px rgba(255, 202, 40, 0.4)',
    },
    naruto: {
        name: 'ðŸ¥ Naruto',
        description: 'Will of Fire',
        background: '#ff6d00',
        text: '#212121',
        cardBg: '#263238',
        cardBorder: '#ff9100',
        accent: '#43a047',
        inputBg: '#ffffff',
        inputBorder: '#ff6d00',
        gradient: 'linear-gradient(135deg, #ff6d00 0%, #263238 100%)',
        glow: '0 0 12px rgba(255, 145, 0, 0.5)',
    },
    demonslayer: {
        name: 'ðŸ‘˜ Demon Slayer',
        description: 'Nichirin & Wisteria',
        background: '#121212',
        text: '#00e676',
        cardBg: '#1a1a1b',
        cardBorder: '#f06292',
        accent: '#9575cd',
        inputBg: '#000000',
        inputBorder: '#333',
        gradient: 'linear-gradient(135deg, #121212 0%, #1a1a1b 100%)',
        glow: '0 0 15px rgba(240, 98, 146, 0.4), 0 0 25px rgba(149, 117, 205, 0.3)',
    },
    zen: {
        name: 'ðŸª¨ Zen Garden',
        description: 'Rocks & Moss',
        background: '#f5f5dc',
        text: '#5d4037',
        cardBg: '#e0e0d1',
        cardBorder: '#8d6e63',
        accent: '#7cb342',
        inputBg: '#ffffff',
        inputBorder: '#d7ccc8',
        gradient: 'linear-gradient(135deg, #f5f5dc 0%, #e0e0d1 100%)',
        glow: '0 0 8px rgba(124, 179, 66, 0.2)',
    },
    lavender: {
        name: 'ðŸ«§ Lavender Field',
        description: 'Quiet Purple Dreams',
        background: '#f3e5f5',
        text: '#4a148c',
        cardBg: '#ffffff',
        cardBorder: '#e1bee7',
        accent: '#9c27b0',
        inputBg: '#ffffff',
        inputBorder: '#ce93d8',
        gradient: 'linear-gradient(180deg, #f3e5f5 0%, #ffffff 100%)',
        glow: '0 0 10px rgba(156, 39, 176, 0.2)',
    },
    midnight: {
        name: 'ðŸŒš Mid Forest',
        description: 'Moonlight Shade',
        background: '#0a1a1a',
        text: '#b2dfdb',
        cardBg: '#122626',
        cardBorder: '#004d40',
        accent: '#4db6ac',
        inputBg: '#051010',
        inputBorder: '#002626',
        gradient: 'linear-gradient(135deg, #0a1a1a 0%, #122626 100%)',
        glow: '0 0 12px rgba(77, 182, 172, 0.3)',
    },
    mist: {
        name: 'â˜ï¸ Morning Mist',
        description: 'Soft Fog Over Water',
        background: '#eceff1',
        text: '#37474f',
        cardBg: '#ffffff',
        cardBorder: '#cfd8dc',
        accent: '#607d8b',
        inputBg: '#ffffff',
        inputBorder: '#b0bec5',
        gradient: 'linear-gradient(180deg, #eceff1 0%, #f5f7f8 100%)',
        glow: '0 0 10px rgba(96, 125, 139, 0.15)',
    },
    matrix: {
        name: 'ðŸ“  Matrix',
        description: 'System Failure',
        background: '#0d0208',
        text: '#00ff41',
        cardBg: '#003b00',
        cardBorder: '#008f11',
        accent: '#00ff41',
        inputBg: '#001a1a',
        inputBorder: '#00ff41',
        gradient: 'linear-gradient(135deg, #001000 0%, #003b00 100%)',
        glow: '0 0 10px rgba(0, 255, 65, 0.4)',
    },
    dracula: {
        name: 'ðŸ§› Dracula',
        description: 'Dark Reader',
        background: '#282a36',
        text: '#f8f8f2',
        cardBg: '#44475a',
        cardBorder: '#bd93f9',
        accent: '#ff79c6',
        inputBg: '#282a36',
        inputBorder: '#6272a4',
        gradient: 'linear-gradient(135deg, #282a36 0%, #44475a 100%)',
        glow: '0 0 12px rgba(189, 147, 249, 0.3)',
    },
    sunset: {
        name: 'ðŸŒ… Sunset',
        description: 'Lo-Fi Chill',
        background: '#355c7d',
        text: '#f8b195',
        cardBg: '#6c5b7b',
        cardBorder: '#c06c84',
        accent: '#f67280',
        inputBg: '#355c7d',
        inputBorder: '#f8b195',
        gradient: 'linear-gradient(135deg, #355c7d 0%, #6c5b7b 50%, #c06c84 100%)',
        glow: '0 0 15px rgba(246, 114, 128, 0.4)',
    },
    nord: {
        name: 'ðŸ”ï¸ Nord',
        description: 'Arctic Calm',
        background: '#eceff4',
        text: '#2e3440',
        cardBg: '#e5e9f0',
        cardBorder: '#88c0d0',
        accent: '#5e81ac',
        inputBg: '#ffffff',
        inputBorder: '#81a1c1',
        gradient: 'linear-gradient(135deg, #eceff4 0%, #e5e9f0 100%)',
        glow: '0 0 10px rgba(94, 129, 172, 0.25)',
    },
    sage: {
        name: 'ðŸŒ¿ Sage',
        description: 'Dusty Green',
        background: '#e0e5df',
        text: '#3d4c3d',
        cardBg: '#d3d8d2',
        cardBorder: '#8da38d',
        accent: '#556b55',
        inputBg: '#f2f4f2',
        inputBorder: '#aab7aa',
        gradient: 'linear-gradient(135deg, #e0e5df 0%, #d3d8d2 100%)',
        glow: '0 0 10px rgba(85, 107, 85, 0.2)',
    },
    cream: {
        name: 'ðŸ¦¢ Cream',
        description: 'Soft & Elegant',
        background: '#fdfbf7',
        text: '#5d554e',
        cardBg: '#f6f2ec',
        cardBorder: '#dcd3c9',
        accent: '#a69b90',
        inputBg: '#ffffff',
        inputBorder: '#e6dfd6',
        gradient: 'linear-gradient(135deg, #fdfbf7 0%, #f6f2ec 100%)',
        glow: '0 0 12px rgba(166, 155, 144, 0.2)',
    },
    ghibli: {
        name: 'ðŸ•ï¸ Ghibli',
        description: 'Totoro Forest',
        background: '#e0e8d5',
        text: '#4a5d23',
        cardBg: '#f2f7e9',
        cardBorder: '#8fa868',
        accent: '#567c8d',
        inputBg: '#ffffff',
        inputBorder: '#c3d6a8',
        gradient: 'linear-gradient(135deg, #e0e8d5 0%, #f2f7e9 100%)',
        glow: '0 0 10px rgba(74, 93, 35, 0.2)',
    },
    pixel: {
        name: 'ðŸ‘¾ Pixel',
        description: 'Retro 8-Bit',
        background: '#2c3e50',
        text: '#ecf0f1',
        cardBg: '#34495e',
        cardBorder: '#e74c3c',
        accent: '#f1c40f',
        inputBg: '#2c3e50',
        inputBorder: '#e67e22',
        gradient: 'linear-gradient(135deg, #2c3e50 0%, #34495e 100%)',
        glow: '0 0 0 2px #ecf0f1', // Hard lines for pixel look
    },
    yourname: {
        name: 'â˜„ï¸ Your Name',
        description: 'Twilight Comet',
        background: '#1a1b41',
        text: '#bae8e8',
        cardBg: '#2c2a6b',
        cardBorder: '#f06595',
        accent: '#f7d794',
        inputBg: '#0f0e24',
        inputBorder: '#6c5ce7',
        gradient: 'linear-gradient(135deg, #1a1b41 0%, #2c2a6b 100%)',
        glow: '0 0 15px rgba(240, 101, 149, 0.4), 0 0 25px rgba(108, 92, 231, 0.3)',
    },
    // Keep original light/dark for compatibility
    light: {
        name: 'â˜€ï¸ Light',
        description: 'Default Light Mode',
        background: '#ffffff',
        text: '#000000',
        cardBg: '#f4f4f4',
        cardBorder: '#ccc',
        accent: 'black',
        inputBg: 'white',
        inputBorder: '#ccc',
        gradient: 'linear-gradient(135deg, #ffffff 0%, #f4f4f4 100%)',
    },
    dark: {
        name: 'ðŸŒ™ Dark',
        description: 'Default Dark Mode',
        background: '#1a1a1a',
        text: '#ffffff',
        cardBg: '#2d2d2d',
        cardBorder: '#444',
        accent: 'white',
        inputBg: '#333',
        inputBorder: '#555',
        gradient: 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)',
    },
};

export const ThemeProvider = ({ children }) => {
    // Check localStorage or default to 'sakura'
    const [theme, setTheme] = useState(localStorage.getItem('theme') || 'sakura');

    const changeTheme = (newTheme) => {
        setTheme(newTheme);
        localStorage.setItem('theme', newTheme);
    };

    // Legacy toggle function (for backward compatibility)
    const toggleTheme = () => {
        const newTheme = theme === 'light' ? 'dark' : 'light';
        changeTheme(newTheme);
    };

    // Get colors for current theme
    const colors = themeDefinitions[theme] || themeDefinitions.sakura;

    return (
        <ThemeContext.Provider value={{ theme, toggleTheme, changeTheme, colors, themeDefinitions }}>
            <div style={{
                background: colors.gradient,
                color: colors.text,
                minHeight: '100vh',
                transition: 'all 0.5s ease'
            }}>
                {children}
            </div>
        </ThemeContext.Provider>
    );
};
